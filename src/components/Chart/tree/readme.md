# D3-v4

## 股权结构图

### 图型分析

1. D3的树型结构能够将图形由根数据渲染到末端子数据,并在布局时计算出各个节点的位置
2. 股权结构图为上中下结构,很难直接在一颗树下渲染完整个数据,所以将数据分为三组,分别渲染是最便捷也是最合理的处理方式
3. D3中绘制节点和连线是分离的,也便于定制化设计节点和连线
4. 节点样式设计
5. 连线样式设计
6. 箭头样式设计
7. 箭头位置思考

### 设计思路

1. 将数据分为三组
 - 根数据(rootData)
 - 顶层数据(topData)
 - 底层数据(bottomData)

2. 


------------------------------------


箭头位置思考

1. 箭头放置在节点处,通过position 判断关联关系

position = top

顶部节点样式
各个节点和根节点处的连接处相隔10个像素空白,在根节点处有一个箭头(需重新设计判断)

底部节点样式
由根节点发往各子节点,在子节点上各有一个箭头,距离各个子节点有10个像素空白(即将原来的I修改为10)

